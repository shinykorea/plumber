# API in R : plumber


R은 통계와 데이터 분석을 위한 프로그래밍 언어입니다. R 언어가 가지고 있는 다양한 통계, 시각화, 머신러닝 및 데이터 마이닝 패키지를 활용하여 데이터를 분석하려는 수요가 증가하고 있습니다. 하지만 R은 통계학자들의 주도하에 발전해 왔기 때문에 연구와 분석목적에 최적화 되어 있습니다. 따라서 python등 다른 언어에 비해 분석 결과를 어플리케이션화 하여 활용하기 어렵다는 단점이 있습니다.


이러한 단점을 극복 하기 위해 R과 어플리케이션을 연동하려는 시도가 진행되었습니다. 

* RDCOM : 엑셀에서 R을 실행시키고 그 결과를 가져올 수 있도록 하는 윈도우 플러그인
* CGIwithR : R을 CGI 스크립트처럼 쓸 수 있도록 하는 패키지
* Rserve : R을 TCP/IP서버처럼 활용
* FastWeb : RWeb을 발전시켜 데이터 마이닝을 위한 프레임워크
* Rphp : php와 MySQL, R을 연동하여 웹에서 GUI 방식으로 통계분석

 위의 연동 방식들은 웹 서버를 구동시킨 뒤, R이 아닌 다른 언어에서 R을 구동시키고 결과를 전달받아 전송하거나, R코드 내부에서 HTML코드를 출력하는 방식을 채택하고 있습니다. 이러한 방식이 가진 단점은 크게 세 가지로 요약되는데, 첫째는 운영체제나 호출하는 언어에 따라 구동하는 방식이 다릅니다. 둘째는 서버 측 코드를 R과 다른 언어를 혼용하여 사용하기 때문에 코드의 일관성이 떨어집니다. 마지막으로 웹 인터페이스와 연산 로직을 한 코드에 작성하기 때문에 분석 로직의 모듈화가 어렵고 R코드의 재활용성이 떨어집니다.

 최근 Node.JS나 AngularJS 등 자바스크립트 기반의 프론트엔드 웹 프레임워크가 인기를 얻고 있습니다. 이런 프레임워크들은 서버로 데이터를 요청하고 결과를 JSON등의  구조화된 데이터를 받아 HTML코드로 변환하여 웹 브라우저를 통해 렌더링 하는 방식으로 구동됩니다. 즉 HTTP통신을 지원하고 API를 작성할 수 있다면 클라이언트 언어는 뭐가 되었든 상관이 없습니다. 따라서 R 기반의 API구현이 가능하다면 어플리케이션 구현 시 다른 언어와 혼용할 필요가 없어지고 웹 인터페이스와 R코드를 분리하는 것이 가능합니다. 이번 발표에서는 R에서 제공하는 shiny server 위에서 구동되는 plumber 패키지를 이용하여 API를 작성하기 위한 방법을 소개합니다.
